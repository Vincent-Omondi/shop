<% content_for :body_class, 'bg-light' %>

<section class="section product-show">
  <div class="columns">
    <div class="column is-6">
      <div class="product-image">
        <% if @product.image.present? %>
          <%= image_tag(@product.image_url(:default), class: "main-image") %>
        <% else %>
          <%= image_tag("https://via.placeholder.com/500", class: "main-image") %>
        <% end %>
      </div>
    </div>

    <div class="column is-5 is-offset-1">
      <div class="product-details">
        <h1 class="title is-2"><%= @product.title %></h1>
        
        <div class="price-section">
          <h2 class="price"><%= number_to_currency(@product.price) %></h2>
          <p class="seller">Sold by <%= @product.user.name %></p>
        </div>

        <div class="add-to-cart-section">
          <%= button_to line_items_path(product_id: @product), 
              class: "button is-primary is-large add-to-cart-button" do %>
            <span class="icon">
              <i class="fas fa-shopping-cart"></i>
            </span>
            <span>Add to Cart</span>
          <% end %>
        </div>

        <div class="product-meta">
          <% if @product.brand? %>
            <div class="meta-item">
              <span class="label">Brand:</span>
              <span class="value"><%= @product.brand %></span>
            </div>
          <% end %>

          <div class="meta-item">
            <span class="label">Model:</span>
            <span class="value"><%= @product.model %></span>
          </div>

          <% if @product.condition? %>
            <div class="meta-item">
              <span class="label">Condition:</span>
              <span class="value"><%= @product.condition %></span>
            </div>
          <% end %>

          <% if @product.finish? %>
            <div class="meta-item">
              <span class="label">Finish:</span>
              <span class="value"><%= @product.finish %></span>
            </div>
          <% end %>
        </div>

        <div class="description-section">
          <h3 class="subtitle is-4">Description</h3>
          <div class="content">
            <%= @product.description %>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>